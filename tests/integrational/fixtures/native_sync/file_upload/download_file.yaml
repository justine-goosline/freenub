interactions:
- request:
    body: '{"name": "king_arthur.txt"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '27'
      User-Agent:
      - PubNub-Python/4.5.4
    method: POST
    uri: https://ps.pndsn.com/v1/files/sub-c-c88242fa-13ae-11eb-bc34-ce6fd967af95/channels/files_native_sync_ch/generate-upload-url?uuid=files_native_sync_uuid
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xV25KiSBD9lQ1fZ2gpbkJvzIONVwZUBIrL7kZHAQWCXBwpWnGi/30L7e5xp1/2
        AanMOpl5MutQ/hw0BJG2GTxyLPt1ECOCBo8/B1k8eByEcqIIosQzQJIwI/CCwihCKDCyhKNICTHH
        RcLg66BCJabofValz+hIdu3xgZzJ4PXrIMkK/NweihrFz0f8o8UN6ZO3x4Lid4Qcmsfh8NCGVRsy
        ZYXLuukqzPRRDYNbJsIVOaKCAczhGD80/AMq0aWu0Kl5iOpySEuXmOzqnupmbdnUxudDdkQkq6tn
        2knPimM5lgEswwEbjB55+RFIAQUm9bF8TjJcxLTzv34O9rijYILSlHZB919Q0fbhf7csy0f2zX81
        8IfLwuQ3z735HXc3cx3mOCK2rS+rCeqa2+7wY/tmw77ezQHeEHeuN89vFYafOQz/w5QewXtn/e+v
        rho674iJZJkTuAQxgEeYAQCHTBjxAh27lMSKNEKJIg4ThizH0crT1kopg8SF8LlmEstkXnB7WB3t
        ooZjZxNixzSH/0cvw88yeeeo1hWhJ87Y3QHfkSX4TIaHAmXVn39EO3RsMPnWkoSR70I9ZlxeGPWI
        Y5ogQ8Vd+Pj7cuyPxo40Nyfid/fJ4mfzYa8KwHJgeK+yYcMPqbaED6n+nt/CUXvMSMfY9R5XdzU+
        IcdFWlPkrrwn4loCszDGKmMtxpwofQqa9Ir9hX/nSHXLy71qf+E3dZFF9weqVs131dIKvHg6ROWM
        Ra7SLvM6XebLk5GPiWHTJ585hh1JxiWVDDtAy+zUx+QhJ+6Rtz3Q96WPcU+1pnpN5lcwRxxkr3mq
        J+CXIvAzQMISkpBfiWHpkKAsmsAzSOA5xOdgGy+0XaiyZ9176gJVU/QxzQWbLPCmma6OM22x3QVc
        fAjL6GpvZh/2l+sarIp4IshwPqs2+VkPvP0Xm9N+BO6KhbOtYbni1PeKy0ZVrnubWbALF7DY5FNZ
        B+/r08st/vZ2aA/v64Ar2uAiZJ5FezeLcFnCM51Dusy2R5rvyiniYaa7BvEvqWDkZheUUzq/1S6w
        2LPh9ntablxM2q/DBaUprvJ4F+R7oHM+iafFk8+KvrWXxdBOz0ERu7BQXnQ3sB0LcIEHT3alOeFc
        cU0ITb+E0IHTFz/flWvbBKvcoLV8jtZiaQ1Rt/esn5tkPQkKnzNEv3Q6ozRYnSN0ZnHiexqLFrDT
        q60Qq1r8Pm+fU9p4Ts9DBU3gilU8TwnVRRtwTt/jiT6g7209SU8fs6hWbJ8v6uh94G3rt7lMqC5Y
        moPV4VaM5tf4bFmwjZruNdxpgu7OCM5AHpVw3+OQO2uumtnPdMuZBSt2Blf7eLudQB2ymm2wwUK/
        XHV5NibLs85BoLurIqy2ne+eiGEpF6NTdjFvsB6vFZEHi4g3s+TGc7SsUuK7QNK9VeHzsKNcRd3b
        vlCt3jSfvemOahirYBd6NcWfq5DXDvF8R964eQ49Q2sKnswO2NZ02q1s/3MNd7uLac/rbJxRvp0x
        mZ7evqPLejLl3GyZJmateeZBUdNv3z5fGVla0b/X4/2HnQBOQRziJHr/igDHiSDHIyVhlSiSWASw
        LMtAQSOMEc9FaMQiAWEJhUAcoVCOwnDw+s/r678AAAD//wMAe6n2RbgHAAA=
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Wed, 21 Oct 2020 17:37:16 GMT
      Vary:
      - Accept-Encoding
    status:
      code: 200
      message: OK
- request:
    body: "--e6c44a760db10e4b9b919be64369d85a\r\nContent-Disposition: form-data; name=\"tagging\"\r\n\r\n<Tagging><TagSet><Tag><Key>ObjectTTLInDays</Key><Value>1</Value></Tag></TagSet></Tagging>\r\n--e6c44a760db10e4b9b919be64369d85a\r\nContent-Disposition:
      form-data; name=\"key\"\r\n\r\nsub-c-c88242fa-13ae-11eb-bc34-ce6fd967af95/f-tIAcNXJO9m81fWVV_o-fSQ-veupNrTloVAUPbeUQQ/b8f94563-166e-4349-94b4-86ecc9be22c4/king_arthur.txt\r\n--e6c44a760db10e4b9b919be64369d85a\r\nContent-Disposition:
      form-data; name=\"Content-Type\"\r\n\r\ntext/plain; charset=utf-8\r\n--e6c44a760db10e4b9b919be64369d85a\r\nContent-Disposition:
      form-data; name=\"X-Amz-Credential\"\r\n\r\nAKIAY7AU6GQD5KWBS3FG/20201021/eu-central-1/s3/aws4_request\r\n--e6c44a760db10e4b9b919be64369d85a\r\nContent-Disposition:
      form-data; name=\"X-Amz-Security-Token\"\r\n\r\n\r\n--e6c44a760db10e4b9b919be64369d85a\r\nContent-Disposition:
      form-data; name=\"X-Amz-Algorithm\"\r\n\r\nAWS4-HMAC-SHA256\r\n--e6c44a760db10e4b9b919be64369d85a\r\nContent-Disposition:
      form-data; name=\"X-Amz-Date\"\r\n\r\n20201021T173816Z\r\n--e6c44a760db10e4b9b919be64369d85a\r\nContent-Disposition:
      form-data; name=\"Policy\"\r\n\r\nCnsKCSJleHBpcmF0aW9uIjogIjIwMjAtMTAtMjFUMTc6Mzg6MTZaIiwKCSJjb25kaXRpb25zIjogWwoJCXsiYnVja2V0IjogInB1Ym51Yi1tbmVtb3N5bmUtZmlsZXMtZXUtY2VudHJhbC0xLXByZCJ9LAoJCVsiZXEiLCAiJHRhZ2dpbmciLCAiPFRhZ2dpbmc+PFRhZ1NldD48VGFnPjxLZXk+T2JqZWN0VFRMSW5EYXlzPC9LZXk+PFZhbHVlPjE8L1ZhbHVlPjwvVGFnPjwvVGFnU2V0PjwvVGFnZ2luZz4iXSwKCQlbImVxIiwgIiRrZXkiLCAic3ViLWMtYzg4MjQyZmEtMTNhZS0xMWViLWJjMzQtY2U2ZmQ5NjdhZjk1L2YtdElBY05YSk85bTgxZldWVl9vLWZTUS12ZXVwTnJUbG9WQVVQYmVVUVEvYjhmOTQ1NjMtMTY2ZS00MzQ5LTk0YjQtODZlY2M5YmUyMmM0L2tpbmdfYXJ0aHVyLnR4dCJdLAoJCVsiY29udGVudC1sZW5ndGgtcmFuZ2UiLCAwLCA1MjQyODgwXSwKCQlbInN0YXJ0cy13aXRoIiwgIiRDb250ZW50LVR5cGUiLCAiIl0sCgkJeyJ4LWFtei1jcmVkZW50aWFsIjogIkFLSUFZN0FVNkdRRDVLV0JTM0ZHLzIwMjAxMDIxL2V1LWNlbnRyYWwtMS9zMy9hd3M0X3JlcXVlc3QifSwKCQl7IngtYW16LXNlY3VyaXR5LXRva2VuIjogIiJ9LAoJCXsieC1hbXotYWxnb3JpdGhtIjogIkFXUzQtSE1BQy1TSEEyNTYifSwKCQl7IngtYW16LWRhdGUiOiAiMjAyMDEwMjFUMTczODE2WiIgfQoJXQp9Cg==\r\n--e6c44a760db10e4b9b919be64369d85a\r\nContent-Disposition:
      form-data; name=\"X-Amz-Signature\"\r\n\r\nf129a2a2688251edf48d79f09cc60a1e88819a7eea32ca70a4ae6ab157ab8cbb\r\n--e6c44a760db10e4b9b919be64369d85a\r\nContent-Disposition:
      form-data; name=\"file\"; filename=\"king_arthur.txt\"\r\n\r\nKnights who say
      Ni!\r\n--e6c44a760db10e4b9b919be64369d85a--\r\n"
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2314'
      Content-Type:
      - multipart/form-data; boundary=e6c44a760db10e4b9b919be64369d85a
      User-Agent:
      - PubNub-Python/4.5.4
    method: POST
    uri: https://pubnub-mnemosyne-files-eu-central-1-prd.s3.amazonaws.com/
  response:
    body:
      string: ''
    headers:
      Date:
      - Wed, 21 Oct 2020 17:37:17 GMT
      ETag:
      - '"3676cdb7a927db43c846070c4e7606c7"'
      Location:
      - https://pubnub-mnemosyne-files-eu-central-1-prd.s3.amazonaws.com/sub-c-c88242fa-13ae-11eb-bc34-ce6fd967af95%2Ff-tIAcNXJO9m81fWVV_o-fSQ-veupNrTloVAUPbeUQQ%2Fb8f94563-166e-4349-94b4-86ecc9be22c4%2Fking_arthur.txt
      Server:
      - AmazonS3
      x-amz-expiration:
      - expiry-date="Fri, 23 Oct 2020 00:00:00 GMT", rule-id="Archive file 1 day after
        creation"
      x-amz-id-2:
      - ym+LEcIGI0nkB8Xc+PXJQr2JEein1ISR6oiPyGlaAvuSEeVowXRLqugoiuU6Rlz69JFovWaHkcs=
      x-amz-request-id:
      - 575F0B9E1900826D
      x-amz-server-side-encryption:
      - AES256
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PubNub-Python/4.5.4
    method: GET
    uri: https://ps.pndsn.com/v1/files/publish-file/pub-c-3c5e736c-62de-4b5e-bcaf-bb5eee46a5a3/sub-c-c88242fa-13ae-11eb-bc34-ce6fd967af95/0/files_native_sync_ch/0/%7B%22message%22%3A%20%7B%22test_message%22%3A%20%22test%22%7D%2C%20%22file%22%3A%20%7B%22id%22%3A%20%22b8f94563-166e-4349-94b4-86ecc9be22c4%22%2C%20%22name%22%3A%20%22king_arthur.txt%22%7D%7D?meta=null&store=True&ttl=222&uuid=files_native_sync_uuid
  response:
    body:
      string: '[1,"Sent","16033018369438407"]'
    headers:
      Access-Control-Allow-Methods:
      - GET
      Access-Control-Allow-Origin:
      - '*'
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - '30'
      Content-Type:
      - text/javascript; charset="UTF-8"
      Date:
      - Wed, 21 Oct 2020 17:37:16 GMT
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PubNub-Python/4.5.4
    method: GET
    uri: https://ps.pndsn.com/v1/files/sub-c-c88242fa-13ae-11eb-bc34-ce6fd967af95/channels/files_native_sync_ch/files/b8f94563-166e-4349-94b4-86ecc9be22c4/king_arthur.txt?uuid=files_native_sync_uuid
  response:
    body:
      string: ''
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Cache-Control:
      - public, max-age=1603, immutable
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Date:
      - Wed, 21 Oct 2020 17:37:17 GMT
      Location:
      - https://files-eu-central-1.pndsn.com/sub-c-c88242fa-13ae-11eb-bc34-ce6fd967af95/f-tIAcNXJO9m81fWVV_o-fSQ-veupNrTloVAUPbeUQQ/b8f94563-166e-4349-94b4-86ecc9be22c4/king_arthur.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAY7AU6GQD5KWBS3FG%2F20201021%2Feu-central-1%2Fs3%2Faws4_request&X-Amz-Date=20201021T170000Z&X-Amz-Expires=3900&X-Amz-SignedHeaders=host&X-Amz-Signature=ece26f523bf3321611a3e2e301a8f6d12d5964e141bf538a0768fbb48aa02400
    status:
      code: 307
      message: Temporary Redirect
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PubNub-Python/4.5.4
    method: GET
    uri: https://files-eu-central-1.pndsn.com/sub-c-c88242fa-13ae-11eb-bc34-ce6fd967af95/f-tIAcNXJO9m81fWVV_o-fSQ-veupNrTloVAUPbeUQQ/b8f94563-166e-4349-94b4-86ecc9be22c4/king_arthur.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAY7AU6GQD5KWBS3FG%2F20201021%2Feu-central-1%2Fs3%2Faws4_request&X-Amz-Date=20201021T170000Z&X-Amz-Expires=3900&X-Amz-Signature=ece26f523bf3321611a3e2e301a8f6d12d5964e141bf538a0768fbb48aa02400&X-Amz-SignedHeaders=host
  response:
    body:
      string: Knights who say Ni!
    headers:
      Accept-Ranges:
      - bytes
      Connection:
      - keep-alive
      Content-Length:
      - '19'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Wed, 21 Oct 2020 17:37:18 GMT
      ETag:
      - '"3676cdb7a927db43c846070c4e7606c7"'
      Last-Modified:
      - Wed, 21 Oct 2020 17:37:17 GMT
      Server:
      - AmazonS3
      Via:
      - 1.1 47225389ee58add3b9e790ead940cda5.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - CGuVNrO_ecBPnSUd2EhxDyD6kPSGitbn4e8zVaNwK_aFMZIVn2pKIA==
      X-Amz-Cf-Pop:
      - MUC50-C1
      X-Cache:
      - Miss from cloudfront
      x-amz-expiration:
      - expiry-date="Fri, 23 Oct 2020 00:00:00 GMT", rule-id="Archive file 1 day after
        creation"
      x-amz-server-side-encryption:
      - AES256
    status:
      code: 200
      message: OK
version: 1
