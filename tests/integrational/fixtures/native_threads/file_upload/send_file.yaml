interactions:
- request:
    body: '{"name": "king_arthur.txt"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '27'
      User-Agent:
      - PubNub-Python/4.5.4
    method: POST
    uri: https://ps.pndsn.com/v1/files/sub-c-c88242fa-13ae-11eb-bc34-ce6fd967af95/channels/files_native_threads_ch/generate-upload-url?pnsdk=PubNub-Python%2F4.5.4&uuid=files_threads_uuid
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA4xV25KiSBD9lQ1fZ2gpLl56Yx4URaWBVkBuuxtGAQUUcnGkUHFi/n0L7e5xp1/2
        AanMysw6J/NQ/ujVBJKm7j1zLPu1F0ECe88/ejjqPfeE4QgAGPBMHIOAEUYQMaMhGDIwZGEcRUIg
        AtT72ithgWj0HpfJDh5J2hyfyIX0fn7txThHu+aQVzDaHdH3BtWkK94ccxqfEnKon/v9QxOUTcAU
        JSqqui0R02XVDGqYEJXkCHMGMIdj9FTzT7CA16qE5/oprIo+PbpAJK06qOtX06I2uhzwERJclTvK
        pEPFsRzLAJbhgAWGz2DwLAKfBsbVsdjFGOURZf7Xj94etTSYwCShLOj+CeZNl/53w7J8aN39NwN9
        uExEfvM8mi+ovZuvQYZCYlnqqpzBtr7v9j+277bdnXd3gLeIB9eb57cT+p8x9P+DlI7gnVn3+4tV
        TfsdMuFoxAlcDBnA08kCgAImCHmBtn0QR+PBEMZjsZ/BWbJnxuFuOsJiuDtNs+3rZhOrVlWe1Hao
        rQprWPi7sJI2/f+jl/5nmbxjlKqS0IkzVntAD2AJupD+IYe4/POPMIXHGpFvDYmZ0UOqy0yKKyMd
        UUQLYJg/pE9eVhNvONkOFpuZ+OJMTV5e9DtVAJYD/UeV9Wu+T7UlfEj19/omCpsjJi1jVXtUPpzx
        KXKSJxWNTItHII4pMEttIjHmcsKJg09Js06xv+LfMVLdgkGn2l/x6yrH4eNApbJ+kUwlR8vpISxk
        FjrjZpVVySpbnbVsQjSLPpm81axwoFneQLdkuMLnLicLOHEPXeNA39cuxzlXiuTW2CvtDHI2e6tT
        ToFXiMDDgASFTQJeF4NiS/wir31XI767JR5nN9FSSQOJvajutPUlZaxOaC27xr47x6o0wcrSSH0u
        OgRFeLPX8of95bYGeh7NhJG9kMt1dlF9d//F4pTvvqOztmxopiPOPTe/rqXxbW8t+2mwtPN1Nh+p
        4H19Pt3z7+8t5fC+9rm88a8Cdk3KfZMHq8K+0D4kK2wcab0bppC3sepoxLsmgpZtWr+Y0/7pqW+y
        F83p9pRMu24o3y3nFxtRz6LUz/ZA5Q6psYiOqpVnLrsSoGVnLu9LMLfXW1suLNk4BaWvISvSTQds
        dQ5Al9NPGzA/6bNQ0Cw59TLay8K7eJhlXxdyrloJT2dGPEc7e46/92cGprPLVY7QnkWx5yosXNqt
        WhpCJCnRe789btxECzoPCdS+I5bRIiFUF43PbTuOZ/qAjtvrLDl/9KLU2a5e2NL7wDWqt77MqC5Y
        WoNVbUMMF7d8vMrZWkr2CmoVQXVkgjDIwsLed3HQkeubZvayam5lX2dlW99HhjGzVZtVLI31l+r1
        psuLNltdVM4GqqPnQWm0nnMmmjm+au04jXiNdXklD107D/kNju84h6syof0AA9XVc4+3W4pVVF3j
        RLV61zx+0x3VMJJAGrgVjb+UAa8cokVK3rC5WzpDcw6mmxZY5nze6pb3+QzHSCPK+RVPMMXbarP5
        +e07uujZ9uLgVRJvKsXdHMZS8u3b5ysDJyX9ez0+ftijIQeEkKeXIge5QGRRIKJQQPSq5EIBgAAO
        AgEMAIjiOBrxEQyFIRfF4zEcAGEYDOm1/s/Pn/8CAAD//wMAnVMpHbgHAAA=
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json
      Date:
      - Wed, 21 Oct 2020 17:15:51 GMT
      Vary:
      - Accept-Encoding
    status:
      code: 200
      message: OK
- request:
    body: "--64f64f9d25e67df4227350aff85be8d5\r\nContent-Disposition: form-data; name=\"tagging\"\r\n\r\n<Tagging><TagSet><Tag><Key>ObjectTTLInDays</Key><Value>1</Value></Tag></TagSet></Tagging>\r\n--64f64f9d25e67df4227350aff85be8d5\r\nContent-Disposition:
      form-data; name=\"key\"\r\n\r\nsub-c-c88242fa-13ae-11eb-bc34-ce6fd967af95/jaDgk-9c_B8i5c_vBjUOQQfLTonvLy7MImT7mZ_coCQ/47811ab3-ff1b-48ae-8717-ac0afdd4b51e/king_arthur.txt\r\n--64f64f9d25e67df4227350aff85be8d5\r\nContent-Disposition:
      form-data; name=\"Content-Type\"\r\n\r\ntext/plain; charset=utf-8\r\n--64f64f9d25e67df4227350aff85be8d5\r\nContent-Disposition:
      form-data; name=\"X-Amz-Credential\"\r\n\r\nAKIAY7AU6GQD5KWBS3FG/20201021/eu-central-1/s3/aws4_request\r\n--64f64f9d25e67df4227350aff85be8d5\r\nContent-Disposition:
      form-data; name=\"X-Amz-Security-Token\"\r\n\r\n\r\n--64f64f9d25e67df4227350aff85be8d5\r\nContent-Disposition:
      form-data; name=\"X-Amz-Algorithm\"\r\n\r\nAWS4-HMAC-SHA256\r\n--64f64f9d25e67df4227350aff85be8d5\r\nContent-Disposition:
      form-data; name=\"X-Amz-Date\"\r\n\r\n20201021T171651Z\r\n--64f64f9d25e67df4227350aff85be8d5\r\nContent-Disposition:
      form-data; name=\"Policy\"\r\n\r\nCnsKCSJleHBpcmF0aW9uIjogIjIwMjAtMTAtMjFUMTc6MTY6NTFaIiwKCSJjb25kaXRpb25zIjogWwoJCXsiYnVja2V0IjogInB1Ym51Yi1tbmVtb3N5bmUtZmlsZXMtZXUtY2VudHJhbC0xLXByZCJ9LAoJCVsiZXEiLCAiJHRhZ2dpbmciLCAiPFRhZ2dpbmc+PFRhZ1NldD48VGFnPjxLZXk+T2JqZWN0VFRMSW5EYXlzPC9LZXk+PFZhbHVlPjE8L1ZhbHVlPjwvVGFnPjwvVGFnU2V0PjwvVGFnZ2luZz4iXSwKCQlbImVxIiwgIiRrZXkiLCAic3ViLWMtYzg4MjQyZmEtMTNhZS0xMWViLWJjMzQtY2U2ZmQ5NjdhZjk1L2phRGdrLTljX0I4aTVjX3ZCalVPUVFmTFRvbnZMeTdNSW1UN21aX2NvQ1EvNDc4MTFhYjMtZmYxYi00OGFlLTg3MTctYWMwYWZkZDRiNTFlL2tpbmdfYXJ0aHVyLnR4dCJdLAoJCVsiY29udGVudC1sZW5ndGgtcmFuZ2UiLCAwLCA1MjQyODgwXSwKCQlbInN0YXJ0cy13aXRoIiwgIiRDb250ZW50LVR5cGUiLCAiIl0sCgkJeyJ4LWFtei1jcmVkZW50aWFsIjogIkFLSUFZN0FVNkdRRDVLV0JTM0ZHLzIwMjAxMDIxL2V1LWNlbnRyYWwtMS9zMy9hd3M0X3JlcXVlc3QifSwKCQl7IngtYW16LXNlY3VyaXR5LXRva2VuIjogIiJ9LAoJCXsieC1hbXotYWxnb3JpdGhtIjogIkFXUzQtSE1BQy1TSEEyNTYifSwKCQl7IngtYW16LWRhdGUiOiAiMjAyMDEwMjFUMTcxNjUxWiIgfQoJXQp9Cg==\r\n--64f64f9d25e67df4227350aff85be8d5\r\nContent-Disposition:
      form-data; name=\"X-Amz-Signature\"\r\n\r\n87214c3c0a2a2b50eb5ec4e8712c411ba6b41611dffd83dac472df99a6147b7e\r\n--64f64f9d25e67df4227350aff85be8d5\r\nContent-Disposition:
      form-data; name=\"file\"; filename=\"king_arthur.txt\"\r\n\r\nKnights who say
      Ni!\r\n--64f64f9d25e67df4227350aff85be8d5--\r\n"
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '2314'
      Content-Type:
      - multipart/form-data; boundary=64f64f9d25e67df4227350aff85be8d5
      User-Agent:
      - PubNub-Python/4.5.4
    method: POST
    uri: https://pubnub-mnemosyne-files-eu-central-1-prd.s3.amazonaws.com/
  response:
    body:
      string: ''
    headers:
      Date:
      - Wed, 21 Oct 2020 17:15:52 GMT
      ETag:
      - '"3676cdb7a927db43c846070c4e7606c7"'
      Location:
      - https://pubnub-mnemosyne-files-eu-central-1-prd.s3.amazonaws.com/sub-c-c88242fa-13ae-11eb-bc34-ce6fd967af95%2FjaDgk-9c_B8i5c_vBjUOQQfLTonvLy7MImT7mZ_coCQ%2F47811ab3-ff1b-48ae-8717-ac0afdd4b51e%2Fking_arthur.txt
      Server:
      - AmazonS3
      x-amz-expiration:
      - expiry-date="Fri, 23 Oct 2020 00:00:00 GMT", rule-id="Archive file 1 day after
        creation"
      x-amz-id-2:
      - h5XSkRzDv8+uJegA0IZjyfahyO9UbpTWYycPP9S4/w3ew8bkFkEIvfBeDxcnOzNfmfmvD53/ZTI=
      x-amz-request-id:
      - 2836EF88DC870531
      x-amz-server-side-encryption:
      - AES256
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PubNub-Python/4.5.4
    method: GET
    uri: https://ps.pndsn.com/v1/files/publish-file/pub-c-3c5e736c-62de-4b5e-bcaf-bb5eee46a5a3/sub-c-c88242fa-13ae-11eb-bc34-ce6fd967af95/0/files_native_threads_ch/0/%7B%22message%22%3A%20%7B%22test_message%22%3A%20%22test%22%7D%2C%20%22file%22%3A%20%7B%22id%22%3A%20%2247811ab3-ff1b-48ae-8717-ac0afdd4b51e%22%2C%20%22name%22%3A%20%22king_arthur.txt%22%7D%7D?meta=null&ttl=222&store=True&pnsdk=PubNub-Python%2F4.5.4&uuid=files_threads_uuid
  response:
    body:
      string: '[1,"Sent","16033005519117092"]'
    headers:
      Access-Control-Allow-Methods:
      - GET
      Access-Control-Allow-Origin:
      - '*'
      Cache-Control:
      - no-cache
      Connection:
      - keep-alive
      Content-Length:
      - '30'
      Content-Type:
      - text/javascript; charset="UTF-8"
      Date:
      - Wed, 21 Oct 2020 17:15:51 GMT
    status:
      code: 200
      message: OK
version: 1
